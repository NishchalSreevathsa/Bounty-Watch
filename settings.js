document.getElementById('saveBtn').addEventListener('click',()=>{chrome.storage.sync.set({h1:document.getElementById('h1key').value,bc:document.getElementById('bcKey').value},()=>alert('Saved!'));});document.getElementById('addProgram').addEventListener('click',()=>{const d=document.getElementById('domain').value;const u=document.getElementById('url').value;if(!d||!u)return;chrome.storage.sync.get(['manualPrograms'],res=>{const list=res.manualPrograms||[];list.push({domain:d,url:u});chrome.storage.sync.set({manualPrograms:list},()=>location.reload());});});chrome.storage.sync.get(['manualPrograms'],res=>{const list=res.manualPrograms||[];const ul=document.getElementById('programList');ul.innerHTML=list.map((p,i)=>`<li>${p.domain}:<a href='${p.url}' target='_blank'>${p.url}</a></li>`).join('');});